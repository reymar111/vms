import{m as M,P as V,j as b,c as j,o as l,w as m,a as c,b as e,f as n,g as d,i as g,k as y,F as p,l as x,t as i,e as f,p as v,C as B}from"./app-D6fEnl88.js";import{A as S}from"./AuthenticatedLayout-CYKAFKPo.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const A={props:["violations","penalty_actions","statuses"],components:{AuthenticatedLayout:S,Link:V,Head:M},data(){return{form:B({id:"",transaction_number:"",name:"",status_id:"",penalty_action_id:"",resolution:"",is_escalate:!1,active:!1}),loading_button:!1,disabled_button:!1,is_created:!1,is_updated:!1,is_deleted:!1,search:""}},mounted(){},computed:{filteredViolations(){return this.search?this.violations.filter(o=>Object.values(o).some(t=>String(t).toLowerCase().includes(this.search.toLowerCase()))):this.violations}},methods:{openResolveForm(o){this.form.id=o.id,this.form.transaction_number=o.transaction_number,this.form.name=o.full_name,this.form.status_id=o.status_id,this.form.penalty_action_id=o.penalty_action_id,this.form.resolution=o.resolution,this.form.active=!0},escalate(o){this.form.id=o.id,this.form.transaction_number=o.transaction_number,this.form.name=o.full_name,this.form.status_id=5,this.form.penalty_action_id=o.penalty_action_id,this.form.resolution=o.resolution,this.form.active=!0,this.form.is_escalate=!0},closeResolveForm(){this.form.id="",this.form.transaction_number="",this.form.name="",this.form.active=!1,this.form.is_escalate=!1},resolve(){this.form.patch("/transaction_violation/resolve/"+this.form.id,{onSuccess:()=>{this.closeResolveForm(),this.is_updated=!0},onError:()=>{}})}}},H={class:"py-1"},R={class:"mx-auto sm:px-6 lg:px-8"},F={class:"overflow-hidden bg-white shadow-lg sm:rounded-lg"},L={class:"px-6 pb-6 overflow-x-auto bg-white shadow-md rounded-lg mt-0"},D={key:0,id:"alert-border-1",class:"flex items-center p-4 mb-4 text-green-800 border-t-4 border-green-300 bg-green-50",role:"alert"},P={key:1,id:"alert-border-1",class:"flex items-center p-4 mb-4 text-yellow-800 border-t-4 border-yellow-300 bg-yellow-50",role:"alert"},E={key:2,id:"alert-border-1",class:"flex items-center p-4 mb-4 text-red-800 border-t-4 border-red-300 bg-red-50",role:"alert"},N={class:"mb-2 text-gray-900 flex flex-col md:flex-row md:justify-between md:items-center space-y-4 md:space-y-0"},U={class:"flex items-center space-x-2 w-full md:w-auto"},I={class:"min-w-full border border-gray-200"},T={class:"px-4 py-2"},z={class:"px-4 py-2"},O={class:"px-4 py-2"},W={class:"px-4 py-2"},q={class:"px-4 py-2"},G={class:"px-4 py-2"},J={class:"px-4 py-2 flex space-x-2"},K=["onClick"],Q=["onClick"],X={key:0,id:"default-modal",tabindex:"-1","aria-hidden":"true",class:"fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50"},Y={class:"relative p-4 w-full max-w-2xl max-h-full"},$={class:"relative bg-white rounded-lg shadow-sm"},ee={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t border-gray-200"},te={class:"text-xl font-semibold text-gray-900"},se={class:"p-4 md:p-5 space-y-4"},oe={key:0,class:"mt-3"},re=["value"],le={class:"mt-3"},ne=["value"],ie={class:"mt-3"},ae={class:"flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b"};function de(o,t,w,ue,r,a){const k=b("Head"),h=b("Link"),_=b("AuthenticatedLayout");return l(),j(_,null,{default:m(()=>[c(k,{title:"Violations"}),e("div",H,[e("div",R,[e("div",F,[t[28]||(t[28]=e("div",{class:"p-6 text-gray-900 flex flex-col md:flex-row md:justify-between md:items-center space-y-4 md:space-y-0"},[e("h3",{class:"text-2xl font-bold"},"Student Violations")],-1)),e("div",L,[r.is_created?(l(),n("div",D,[t[13]||(t[13]=e("svg",{class:"shrink-0 w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1)),t[14]||(t[14]=e("div",{class:"ms-3 text-sm font-medium"}," Violation Created Successfully. ",-1)),e("button",{onClick:t[0]||(t[0]=s=>r.is_created=!1),type:"button",class:"ms-auto -mx-1.5 -my-1.5 bg-green-50 text-green-500 rounded-lg focus:ring-2 focus:ring-green-400 p-1.5 hover:bg-green-200 inline-flex items-center justify-center h-8 w-8","data-dismiss-target":"#alert-border-1","aria-label":"Close"},t[12]||(t[12]=[e("span",{class:"sr-only"},"Dismiss",-1),e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)]))])):d("",!0),r.is_updated?(l(),n("div",P,[t[16]||(t[16]=e("svg",{class:"shrink-0 w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1)),t[17]||(t[17]=e("div",{class:"ms-3 text-sm font-medium"}," Violation Updated Successfully. ",-1)),e("button",{onClick:t[1]||(t[1]=s=>r.is_updated=!1),type:"button",class:"ms-auto -mx-1.5 -my-1.5 bg-yellow-50 text-yellow-500 rounded-lg focus:ring-2 focus:ring-yellow-400 p-1.5 hover:bg-yellow-200 inline-flex items-center justify-center h-8 w-8","data-dismiss-target":"#alert-border-1","aria-label":"Close"},t[15]||(t[15]=[e("span",{class:"sr-only"},"Dismiss",-1),e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)]))])):d("",!0),r.is_deleted?(l(),n("div",E,[t[19]||(t[19]=e("svg",{class:"shrink-0 w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1)),t[20]||(t[20]=e("div",{class:"ms-3 text-sm font-medium"}," Violation Deleted Successfully. ",-1)),e("button",{onClick:t[2]||(t[2]=s=>r.is_deleted=!1),type:"button",class:"ms-auto -mx-1.5 -my-1.5 bg-red-50 text-red-500 rounded-lg focus:ring-2 focus:ring-red-400 p-1.5 hover:bg-red-200 inline-flex items-center justify-center h-8 w-8","data-dismiss-target":"#alert-border-1","aria-label":"Close"},t[18]||(t[18]=[e("span",{class:"sr-only"},"Dismiss",-1),e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)]))])):d("",!0),e("div",N,[c(h,{href:o.route("transaction_violation.create"),class:"px-4 py-2 mb-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2"},{default:m(()=>t[21]||(t[21]=[e("svg",{class:"w-6 h-6 text-white-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h14m-7 7V5"})],-1),e("span",null,"New Item",-1)])),_:1},8,["href"]),e("div",U,[g(e("input",{type:"text",placeholder:"Search...","onUpdate:modelValue":t[3]||(t[3]=s=>r.search=s),class:"px-4 py-2 border rounded-lg w-full md:w-auto focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[y,r.search]]),t[22]||(t[22]=e("button",{class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2"},[e("svg",{class:"w-6 h-6","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-width":"2",d:"m21 21-3.5-3.5M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z"})]),e("span",null,"Search")],-1))])]),e("table",I,[t[27]||(t[27]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left text-gray-700 border-b"},"#"),e("th",{class:"px-4 py-2 text-left text-gray-700 border-b"},"Violation #"),e("th",{class:"px-4 py-2 text-left text-gray-700 border-b"},"ID #"),e("th",{class:"px-4 py-2 text-left text-gray-700 border-b"},"Student"),e("th",{class:"px-4 py-2 text-left text-gray-700 border-b"},"Violation"),e("th",{class:"px-4 py-2 text-left text-gray-700 border-b"},"Status"),e("th",{class:"px-4 py-2 text-left text-gray-700 border-b"},"Actions")])],-1)),e("tbody",null,[(l(!0),n(p,null,x(a.filteredViolations,(s,u)=>(l(),n("tr",{class:"border-b",key:u},[e("td",T,i(u+1),1),e("td",z,i(s.transaction_number),1),e("td",O,i(s.student!=null?s.student.id_number:""),1),e("td",W,i(s.student!=null?s.student.full_name:""),1),e("td",q,i(s.violation!=null?s.violation.name:""),1),e("td",G,i(s.status?s.status.name:""),1),e("td",J,[c(h,{href:o.route("transaction_violation.show",s.id),type:"button",class:"text-white bg-green-500 hover:bg-green-600 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-3 py-2 text-center inline-flex items-center me-2"},{default:m(()=>t[23]||(t[23]=[e("svg",{class:"w-6 h-6 text-white dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"currentColor","stroke-width":"2",d:"M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"}),e("path",{stroke:"currentColor","stroke-width":"2",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})],-1),f(" View ")])),_:2},1032,["href"]),s.status_id<4?(l(),n("button",{key:0,onClick:C=>a.openResolveForm(s),type:"button",class:"text-white bg-indigo-500 hover:bg-indigo-600 focus:ring-4 focus:outline-none focus:ring-indigo-300 font-medium rounded-lg text-sm px-3 py-2 text-center inline-flex items-center me-2"},t[24]||(t[24]=[e("svg",{class:"w-6 h-6 text-white-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.484 9.166 15 7h5m0 0-3-3m3 3-3 3M4 17h4l1.577-2.253M4 7h4l7 10h5m0 0-3 3m3-3-3-3"})],-1),f(" Resolve ")]),8,K)):d("",!0),s.status_id==4?(l(),n("button",{key:1,onClick:C=>a.escalate(s),type:"button",class:"text-white bg-indigo-500 hover:bg-indigo-600 focus:ring-4 focus:outline-none focus:ring-indigo-300 font-medium rounded-lg text-sm px-3 py-2 text-center inline-flex items-center me-2"},t[25]||(t[25]=[e("svg",{class:"w-6 h-6 text-white-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 9h3m-3 3h3m-3 3h3m-6 1c-.306-.613-.933-1-1.618-1H7.618c-.685 0-1.312.387-1.618 1M4 5h16a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Zm7 5a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"})],-1),f(" Escalate ")]),8,Q)):d("",!0),c(h,{href:o.route("transaction_violation.edit",s.id),type:"button",class:"text-white bg-yellow-500 hover:bg-yellow-600 focus:ring-4 focus:outline-none focus:ring-yellow-300 font-medium rounded-lg text-sm px-3 py-2 text-center inline-flex items-center me-2"},{default:m(()=>t[26]||(t[26]=[e("svg",{class:"w-6 h-6 text-white-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m14.304 4.844 2.852 2.852M7 7H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1v-4.5m2.409-9.91a2.017 2.017 0 0 1 0 2.853l-6.844 6.844L8 14l.713-3.565 6.844-6.844a2.015 2.015 0 0 1 2.852 0Z"})],-1),f(" Edit ")])),_:2},1032,["href"])])]))),128))])])])])])]),r.form.active?(l(),n("div",X,[e("div",Y,[e("div",$,[e("div",ee,[e("h3",te,i(r.form.is_escalate?"Escalate":"Resolve")+" "+i(r.form.transaction_number),1),e("button",{onClick:t[4]||(t[4]=(...s)=>a.closeResolveForm&&a.closeResolveForm(...s)),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center","data-modal-hide":"default-modal"},t[29]||(t[29]=[e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),e("span",{class:"sr-only"},"Close modal",-1)]))]),e("div",se,[r.form.is_escalate===!1?(l(),n("div",oe,[t[30]||(t[30]=e("label",{for:"countries",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Status",-1)),g(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>r.form.status_id=s),onChange:t[6]||(t[6]=(...s)=>o.getSelestedPenaltyAction&&o.getSelestedPenaltyAction(...s)),id:"countries",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(l(!0),n(p,null,x(w.statuses,(s,u)=>(l(),n("option",{key:u,value:s.id},i(s.name),9,re))),128))],544),[[v,r.form.status_id]])])):d("",!0),e("div",le,[t[31]||(t[31]=e("label",{for:"countries",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Penalty Imposed",-1)),g(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>r.form.penalty_action_id=s),onChange:t[8]||(t[8]=(...s)=>o.getSelestedPenaltyAction&&o.getSelestedPenaltyAction(...s)),id:"countries",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(l(!0),n(p,null,x(w.penalty_actions,(s,u)=>(l(),n("option",{key:u,value:s.id},i(s.name),9,ne))),128))],544),[[v,r.form.penalty_action_id]])]),e("div",ie,[t[32]||(t[32]=e("label",{for:"message",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Resolution",-1)),g(e("textarea",{id:"message","onUpdate:modelValue":t[9]||(t[9]=s=>r.form.resolution=s),rows:"5",class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Write your resolution here..."},null,512),[[y,r.form.resolution]])])]),e("div",ae,[e("button",{onClick:t[10]||(t[10]=(...s)=>a.resolve&&a.resolve(...s)),"data-modal-hide":"default-modal",type:"button",class:"text-white bg-yellow-700 hover:bg-yellow-800 focus:ring-4 focus:outline-none focus:ring-yellow-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},i(r.form.is_escalate?"Escalate":"Resolve"),1),e("button",{onClick:t[11]||(t[11]=(...s)=>a.closeResolveForm&&a.closeResolveForm(...s)),"data-modal-hide":"default-modal",type:"button",class:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100"},"Cancel")])])])])):d("",!0)]),_:1})}const he=Z(A,[["render",de]]);export{he as default};
